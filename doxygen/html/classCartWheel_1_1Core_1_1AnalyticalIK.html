<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>UA-Cartwheel: CartWheel::Core::AnalyticalIK Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceCartWheel.html">CartWheel</a>::<b>Core</b>::<a class="el" href="classCartWheel_1_1Core_1_1AnalyticalIK.html">AnalyticalIK</a>
  </div>
</div>
<div class="contents">
<h1>CartWheel::Core::AnalyticalIK Class Reference</h1><!-- doxytag: class="CartWheel::Core::AnalyticalIK" -->
<p><code>#include &lt;<a class="el" href="HumanoidIKCharacter_8h_source.html">HumanoidIKCharacter.h</a>&gt;</code></p>

<p><a href="classCartWheel_1_1Core_1_1AnalyticalIK-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classCartWheel_1_1Math_1_1Point3d.html">CartWheel::Math::Point3d</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCartWheel_1_1Core_1_1AnalyticalIK.html#af59040c4461da6eb5d22b37ad6d6cc9b">solve</a> (const <a class="el" href="classCartWheel_1_1Math_1_1Point3d.html">CartWheel::Math::Point3d</a> &amp;p1, const <a class="el" href="classCartWheel_1_1Math_1_1Point3d.html">CartWheel::Math::Point3d</a> &amp;p2, const <a class="el" href="classCartWheel_1_1Math_1_1Vector3d.html">CartWheel::Math::Vector3d</a> &amp;n, double r1, double r2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classCartWheel_1_1Math_1_1Quaternion.html">CartWheel::Math::Quaternion</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCartWheel_1_1Core_1_1AnalyticalIK.html#aa99c96d71da77221f652ec281457f586">getParentOrientation</a> (const <a class="el" href="classCartWheel_1_1Math_1_1Vector3d.html">CartWheel::Math::Vector3d</a> &amp;vGlobal, const <a class="el" href="classCartWheel_1_1Math_1_1Vector3d.html">CartWheel::Math::Vector3d</a> &amp;nGlobal, <a class="el" href="classCartWheel_1_1Math_1_1Vector3d.html">CartWheel::Math::Vector3d</a> vLocal, const <a class="el" href="classCartWheel_1_1Math_1_1Vector3d.html">CartWheel::Math::Vector3d</a> &amp;nLocal)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCartWheel_1_1Core_1_1AnalyticalIK.html#a008549347d167dc40c5a1c788522201c">getChildRotationAngle</a> (const <a class="el" href="classCartWheel_1_1Math_1_1Vector3d.html">CartWheel::Math::Vector3d</a> &amp;vParent, const <a class="el" href="classCartWheel_1_1Math_1_1Vector3d.html">CartWheel::Math::Vector3d</a> &amp;vChild, const <a class="el" href="classCartWheel_1_1Math_1_1Vector3d.html">CartWheel::Math::Vector3d</a> n)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This class implements the analytical solution for a simple linkage that is formed by a parent link and a child link connected by a joint - the child joint. It is assumed that the parent can rotate about some relative coordinate frame - the grandparent frame (that can be the parent's parent in the linkage, or the world if the parent is a root, since it can still rotate relative to the world frame) - about any axis - i.e. the parent is connected to the grandparent by a ball-in-socket joint that doesn't have any joint limits. The child can only rotate relative to the parent around the axis n. The vector v, in general, represents the axis that connects either the child joint to the child's end effector, or the parent's parent joint to the child joint. This class can be used to retrieve the relative orientation between the parent and the grandparent, as well as the relative orientation between the parent and the child, so that the child's end effector is as close as possible to a specified target. No joint limits are implemented by this solver. </p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a008549347d167dc40c5a1c788522201c"></a><!-- doxytag: member="CartWheel::Core::AnalyticalIK::getChildRotationAngle" ref="a008549347d167dc40c5a1c788522201c" args="(const CartWheel::Math::Vector3d &amp;vParent, const CartWheel::Math::Vector3d &amp;vChild, const CartWheel::Math::Vector3d n)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static double CartWheel::Core::AnalyticalIK::getChildRotationAngle </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCartWheel_1_1Math_1_1Vector3d.html">CartWheel::Math::Vector3d</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>vParent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCartWheel_1_1Math_1_1Vector3d.html">CartWheel::Math::Vector3d</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>vChild</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCartWheel_1_1Math_1_1Vector3d.html">CartWheel::Math::Vector3d</a>&nbsp;</td>
          <td class="paramname"> <em>n</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This method determines the rotation angle about the axis n for the child link, relative to the orientation of the parent Input (all quantities need to be measured in the same coordinate frame, ideally the parent's): vParent - the v qunatity for the parent vChild - the v quntity for the child (vector between the child joint and the end effector). n - the axis of rotation Output: q - the relative orientation between the child and parent frames </p>

</div>
</div>
<a class="anchor" id="aa99c96d71da77221f652ec281457f586"></a><!-- doxytag: member="CartWheel::Core::AnalyticalIK::getParentOrientation" ref="aa99c96d71da77221f652ec281457f586" args="(const CartWheel::Math::Vector3d &amp;vGlobal, const CartWheel::Math::Vector3d &amp;nGlobal, CartWheel::Math::Vector3d vLocal, const CartWheel::Math::Vector3d &amp;nLocal)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classCartWheel_1_1Math_1_1Quaternion.html">CartWheel::Math::Quaternion</a> CartWheel::Core::AnalyticalIK::getParentOrientation </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCartWheel_1_1Math_1_1Vector3d.html">CartWheel::Math::Vector3d</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>vGlobal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCartWheel_1_1Math_1_1Vector3d.html">CartWheel::Math::Vector3d</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>nGlobal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCartWheel_1_1Math_1_1Vector3d.html">CartWheel::Math::Vector3d</a>&nbsp;</td>
          <td class="paramname"> <em>vLocal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCartWheel_1_1Math_1_1Vector3d.html">CartWheel::Math::Vector3d</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>nLocal</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This method determines the relative orientation between the parent link and its grandparent- this boils down to solving for the orientation that aligns two coordinate frames, where we know two perpendicular vectors from each that map to the other.</p>
<p>Input: vGlobal - parent's v expressed in grandparent coordinates nGlobal - this is the rotation axis that is used for the relative rotation between the child and the parent joint, expressed in grandparent coordinates vLocal - parent's v expressed in the parent's local coordinates nLocal - this is the rotation axis that is used for the relative rotation between the child and the parent joint, expressed in parent's local coordinates Output: q - the relative orientation between the parent and the grandparent (i.e. transforms vectors from parent coordinates to grandparent coordinates). </p>

</div>
</div>
<a class="anchor" id="af59040c4461da6eb5d22b37ad6d6cc9b"></a><!-- doxytag: member="CartWheel::Core::AnalyticalIK::solve" ref="af59040c4461da6eb5d22b37ad6d6cc9b" args="(const CartWheel::Math::Point3d &amp;p1, const CartWheel::Math::Point3d &amp;p2, const CartWheel::Math::Vector3d &amp;n, double r1, double r2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classCartWheel_1_1Math_1_1Point3d.html">CartWheel::Math::Point3d</a> CartWheel::Core::AnalyticalIK::solve </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCartWheel_1_1Math_1_1Point3d.html">CartWheel::Math::Point3d</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>p1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCartWheel_1_1Math_1_1Point3d.html">CartWheel::Math::Point3d</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>p2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCartWheel_1_1Math_1_1Vector3d.html">CartWheel::Math::Vector3d</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>r1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>r2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This method determines the position of the joint between the child and parent links. Input (all quantities need to be measured in the same coordinate frame): p1 - location of parent's point of revolution (for example the shoulder for an arm) p2 - target location of end effector of child link (for example, the wrist location n - normal to the plane in which the relative motion between parent and child will take place (for example, the plane defined by the arm and forearm) r1 - the length of the parent link r2 - the length of the child link Return: p - the position of the joint (the elbow, for instance), measured in the same coordinates as the values passed in here </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/Core/<a class="el" href="HumanoidIKCharacter_8h_source.html">HumanoidIKCharacter.h</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address style="text-align: right;"><small>Generated on Mon Apr 18 13:48:49 2011 for UA-Cartwheel by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
