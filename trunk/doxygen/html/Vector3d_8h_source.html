<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>UA-Cartwheel: include/MathLib/Vector3d.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
<h1>include/MathLib/Vector3d.h</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#pragma once</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span>
<a name="l00003"></a>00003 <span class="preprocessor">#include &lt;math.h&gt;</span>
<a name="l00004"></a>00004 
<a name="l00005"></a>00005 <span class="preprocessor">#include &lt;MathLib/MathLibDll.h&gt;</span>
<a name="l00006"></a>00006 
<a name="l00007"></a>00007 <span class="preprocessor">#include &lt;MathLib/Point3d.h&gt;</span>
<a name="l00008"></a>00008 <span class="preprocessor">#include &lt;MathLib/Matrix.h&gt;</span>
<a name="l00009"></a>00009 
<a name="l00010"></a>00010 <span class="keyword">namespace </span>CartWheel { <span class="keyword">namespace </span>Math {
<a name="l00011"></a>00011 
<a name="l00012"></a>00012 <span class="comment">//class Matrix4x4;</span>
<a name="l00013"></a>00013 
<a name="l00014"></a>00014 <span class="comment">/*================================================================================================================================================================*</span>
<a name="l00015"></a>00015 <span class="comment"> | This class implements a Vector3d in a three dimensional space. Note that the w-coordinate of a vector expressed in homogenous coordinates is 0.                  |</span>
<a name="l00016"></a>00016 <span class="comment"> *================================================================================================================================================================*/</span>
<a name="l00017"></a><a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">00017</a> <span class="keyword">class </span>MATHLIB_DECLSPEC <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a> : <span class="keyword">public</span> <a class="code" href="classCartWheel_1_1Math_1_1ThreeTuple.html">ThreeTuple</a> {
<a name="l00018"></a>00018 <span class="keyword">public</span>:
<a name="l00022"></a>00022         <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a>();
<a name="l00023"></a>00023         <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <span class="keywordtype">double</span> z);
<a name="l00024"></a>00024         <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y);
<a name="l00025"></a>00025         <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a>(<span class="keyword">const</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a> &amp;other);
<a name="l00029"></a>00029         <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a>(<span class="keyword">const</span> <a class="code" href="classCartWheel_1_1Math_1_1Point3d.html">Point3d</a> &amp;p);
<a name="l00033"></a>00033         <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a>(<span class="keyword">const</span> <a class="code" href="classCartWheel_1_1Math_1_1Point3d.html">Point3d</a> &amp;p1, <span class="keyword">const</span> <a class="code" href="classCartWheel_1_1Math_1_1Point3d.html">Point3d</a> &amp;p2);
<a name="l00034"></a>00034 
<a name="l00038"></a>00038         ~<a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a>();
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 
<a name="l00044"></a><a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#a51f18ca24a4f9866923ea9fd85839144">00044</a>         <span class="keyword">inline</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a>&amp; operator = (<span class="keyword">const</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a> &amp;other){
<a name="l00045"></a>00045                 this-&gt;x = other.x;
<a name="l00046"></a>00046                 this-&gt;y = other.y;
<a name="l00047"></a>00047                 this-&gt;z = other.z;
<a name="l00048"></a>00048                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00049"></a>00049         }
<a name="l00050"></a>00050 
<a name="l00054"></a><a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#a6dcc127ab57cfcd20c72c7fc74153264">00054</a>         <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#a6dcc127ab57cfcd20c72c7fc74153264">setToSum</a>(<span class="keyword">const</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a>&amp; a, <span class="keyword">const</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a>&amp; b){
<a name="l00055"></a>00055                 this-&gt;x = a.x + b.x;
<a name="l00056"></a>00056                 this-&gt;y = a.y + b.y;
<a name="l00057"></a>00057                 this-&gt;z = a.z + b.z;
<a name="l00058"></a>00058         }
<a name="l00059"></a>00059 
<a name="l00063"></a><a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#abfd7864901a584e868f311a9e13bc7c7">00063</a>         <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#abfd7864901a584e868f311a9e13bc7c7">setToCrossProduct</a>(<span class="keyword">const</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a>&amp; a, <span class="keyword">const</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a>&amp; b){
<a name="l00064"></a>00064                 this-&gt;x = a.y * b.z - a.z * b.y;
<a name="l00065"></a>00065                 this-&gt;y = a.z * b.x - a.x * b.z;
<a name="l00066"></a>00066                 this-&gt;z = a.x * b.y - a.y * b.x;
<a name="l00067"></a>00067         }
<a name="l00068"></a>00068 
<a name="l00072"></a><a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#a4ca951f7fb6910e5c2449b993ef97ca1">00072</a>         <span class="keyword">inline</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a> operator + (<span class="keyword">const</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a> &amp;v)<span class="keyword"> const</span>{
<a name="l00073"></a>00073                 <span class="keywordflow">return</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a>(this-&gt;x + v.x, this-&gt;y + v.y,this-&gt;z + v.z);
<a name="l00074"></a>00074         }
<a name="l00075"></a>00075 
<a name="l00079"></a><a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#a8d4b497bf732f0d9685cbde6aaacb833">00079</a>         <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#a8d4b497bf732f0d9685cbde6aaacb833">setToDifference</a>(<span class="keyword">const</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a>&amp; a, <span class="keyword">const</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a>&amp; b){
<a name="l00080"></a>00080                 this-&gt;x = a.x - b.x;
<a name="l00081"></a>00081                 this-&gt;y = a.y - b.y;
<a name="l00082"></a>00082                 this-&gt;z = a.z - b.z;
<a name="l00083"></a>00083         }
<a name="l00084"></a>00084 
<a name="l00088"></a><a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#ab93781eb32a9cb2ed4c203b590395937">00088</a>         <span class="keyword">inline</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a> operator - (<span class="keyword">const</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a> &amp;v)<span class="keyword"> const</span>{
<a name="l00089"></a>00089                 <span class="keywordflow">return</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a>(this-&gt;x - v.x, this-&gt;y - v.y, this-&gt;z - v.z);
<a name="l00090"></a>00090         }
<a name="l00091"></a>00091 
<a name="l00095"></a><a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#af3f6c9c83c7f19a1ef765159ed42c5d0">00095</a>         <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#af3f6c9c83c7f19a1ef765159ed42c5d0">multiplyBy</a>(<span class="keywordtype">double</span> n){
<a name="l00096"></a>00096                 this-&gt;x *= n;
<a name="l00097"></a>00097                 this-&gt;y *= n;
<a name="l00098"></a>00098                 this-&gt;z *= n;
<a name="l00099"></a>00099         }
<a name="l00100"></a>00100 
<a name="l00105"></a><a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#a9c2953954890c8031427943f7aef39ab">00105</a>         <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#a9c2953954890c8031427943f7aef39ab">getOrthogonalVectors</a>(<a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a>* a, <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a>* b){
<a name="l00106"></a>00106                 <span class="comment">//try to choose a vector in the y-z plane, if the z-coordinate is significant enough</span>
<a name="l00107"></a>00107                 <span class="keywordflow">if</span> (z*z &gt; 0.5){
<a name="l00108"></a>00108                         <span class="keywordtype">double</span> tmp1 = y*y+z*z;
<a name="l00109"></a>00109                         <span class="keywordtype">double</span> tmp = 1/sqrt(tmp1);
<a name="l00110"></a>00110                         a-&gt;x = 0;
<a name="l00111"></a>00111                         a-&gt;y = -z*tmp;
<a name="l00112"></a>00112                         a-&gt;z = y*tmp;
<a name="l00113"></a>00113                         <span class="comment">//and the third vector is the cross product of *this and a - but take advantage of the fact that we know the two vectors</span>
<a name="l00114"></a>00114                         b-&gt;x = tmp1*tmp;
<a name="l00115"></a>00115                         b-&gt;y = -x * a-&gt;z;
<a name="l00116"></a>00116                         b-&gt;z = x * a-&gt;y;
<a name="l00117"></a>00117                 }<span class="keywordflow">else</span>{  <span class="comment">//otherwise, the other two components must be significant enough - so choose a vector in the x-y plane</span>
<a name="l00118"></a>00118                         <span class="keywordtype">double</span> tmp1 = x*x+y*y;
<a name="l00119"></a>00119                         <span class="keywordtype">double</span> tmp = 1/sqrt(tmp1);
<a name="l00120"></a>00120                         a-&gt;x = -y*tmp;
<a name="l00121"></a>00121                         a-&gt;y = x*tmp;
<a name="l00122"></a>00122                         a-&gt;z = 0;
<a name="l00123"></a>00123                         <span class="comment">//and again, set the last one to the cross product...</span>
<a name="l00124"></a>00124                         b-&gt;x = -z*a-&gt;y;
<a name="l00125"></a>00125                         b-&gt;y = z*a-&gt;x;
<a name="l00126"></a>00126                         b-&gt;z = tmp*tmp1;
<a name="l00127"></a>00127                 }
<a name="l00128"></a>00128         }
<a name="l00129"></a>00129 
<a name="l00133"></a><a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#af1946753f78a74646b055b8280d95a97">00133</a>         <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#af1946753f78a74646b055b8280d95a97">setToProduct</a>(<span class="keyword">const</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a>&amp; a, <span class="keywordtype">double</span> n){
<a name="l00134"></a>00134                 this-&gt;x = a.x * n;
<a name="l00135"></a>00135                 this-&gt;y = a.y * n;
<a name="l00136"></a>00136                 this-&gt;z = a.z * n;
<a name="l00137"></a>00137         }
<a name="l00138"></a>00138 
<a name="l00142"></a><a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#a8ef8f6c9b8a37b326230866271036129">00142</a>         <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#a8ef8f6c9b8a37b326230866271036129">addScaledVector</a>(<span class="keyword">const</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a>&amp; a, <span class="keywordtype">double</span> s){
<a name="l00143"></a>00143                 this-&gt;x += a.x * s;
<a name="l00144"></a>00144                 this-&gt;y += a.y * s;
<a name="l00145"></a>00145                 this-&gt;z += a.z * s;
<a name="l00146"></a>00146         }
<a name="l00147"></a>00147 
<a name="l00151"></a><a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#a73161833fe21aebbdaebaaa8efd95603">00151</a>         <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#a73161833fe21aebbdaebaaa8efd95603">addVector</a>(<span class="keyword">const</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a>&amp; a){
<a name="l00152"></a>00152                 this-&gt;x += a.x;
<a name="l00153"></a>00153                 this-&gt;y += a.y;
<a name="l00154"></a>00154                 this-&gt;z += a.z;
<a name="l00155"></a>00155         }
<a name="l00156"></a>00156 
<a name="l00160"></a><a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#a04d88c2c27b0289d67dddbb9247f181d">00160</a>         <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#a04d88c2c27b0289d67dddbb9247f181d">setToVectorBetween</a>(<span class="keyword">const</span> <a class="code" href="classCartWheel_1_1Math_1_1Point3d.html">Point3d</a>&amp; a, <span class="keyword">const</span> <a class="code" href="classCartWheel_1_1Math_1_1Point3d.html">Point3d</a>&amp; b){
<a name="l00161"></a>00161                 this-&gt;x = b.x - a.x;
<a name="l00162"></a>00162                 this-&gt;y = b.y - a.y;
<a name="l00163"></a>00163                 this-&gt;z = b.z - a.z;
<a name="l00164"></a>00164         }
<a name="l00165"></a>00165 
<a name="l00169"></a><a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#a584d0e2e0f2ca9ade782644458e524a7">00169</a>         <span class="keyword">inline</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a> operator * (<span class="keywordtype">double</span> n)<span class="keyword"> const</span>{
<a name="l00170"></a>00170                 <span class="keywordflow">return</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a>(n*this-&gt;x, n*this-&gt;y, n*this-&gt;z);
<a name="l00171"></a>00171         }
<a name="l00175"></a><a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#ab92953a8944fc4c5ca48474e2e78b28f">00175</a>         <span class="keyword">inline</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a> operator / (<span class="keywordtype">double</span> n)<span class="keyword"> const</span>{
<a name="l00176"></a>00176                 <span class="keywordtype">double</span> m = 1.0/n;
<a name="l00177"></a>00177                 <span class="keywordflow">return</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a>(this-&gt;x*m, this-&gt;y*m, this-&gt;z*m);
<a name="l00178"></a>00178         }
<a name="l00182"></a><a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#adcfc67885472fb1b8b88e74539303dfb">00182</a>         <span class="keyword">inline</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a>&amp; operator += (<span class="keyword">const</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a> &amp;v){
<a name="l00183"></a>00183                 this-&gt;x += v.x;
<a name="l00184"></a>00184                 this-&gt;y += v.y;
<a name="l00185"></a>00185                 this-&gt;z += v.z;
<a name="l00186"></a>00186                 <span class="keywordflow">return</span> (*<span class="keyword">this</span>);
<a name="l00187"></a>00187         }
<a name="l00191"></a><a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#a0ffd89490d43e2331f4a04885926f46f">00191</a>         <span class="keyword">inline</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a>&amp; operator -= (<span class="keyword">const</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a> &amp;v){
<a name="l00192"></a>00192                 this-&gt;x -= v.x;
<a name="l00193"></a>00193                 this-&gt;y -= v.y;
<a name="l00194"></a>00194                 this-&gt;z -= v.z;
<a name="l00195"></a>00195                 <span class="keywordflow">return</span> (*<span class="keyword">this</span>);
<a name="l00196"></a>00196         }
<a name="l00200"></a><a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#a1052925e7cb8182658b5323b26f368ba">00200</a>         <span class="keyword">inline</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a>&amp; operator *= (<span class="keywordtype">double</span> n){
<a name="l00201"></a>00201                 this-&gt;x *= n;
<a name="l00202"></a>00202                 this-&gt;y *= n;
<a name="l00203"></a>00203                 this-&gt;z *= n;
<a name="l00204"></a>00204 
<a name="l00205"></a>00205                 <span class="keywordflow">return</span> (*<span class="keyword">this</span>);
<a name="l00206"></a>00206         }
<a name="l00210"></a><a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#a423132ffd90c3e4a46565bd17aeace43">00210</a>         <span class="keyword">inline</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a>&amp; operator /= (<span class="keywordtype">double</span> n){
<a name="l00211"></a>00211                 <span class="keywordtype">double</span> m = 1.0/n;
<a name="l00212"></a>00212                 this-&gt;x *= m;
<a name="l00213"></a>00213                 this-&gt;y *= m;
<a name="l00214"></a>00214                 this-&gt;z *= m;
<a name="l00215"></a>00215                 <span class="keywordflow">return</span> (*<span class="keyword">this</span>);
<a name="l00216"></a>00216         }
<a name="l00217"></a>00217 
<a name="l00221"></a><a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#a2d6b8355acc0640eeab1d19e9692eee6">00221</a>         <span class="keyword">inline</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a> operator - (){
<a name="l00222"></a>00222                 <span class="keywordflow">return</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a>(-this-&gt;x, -this-&gt;y, -this-&gt;z);
<a name="l00223"></a>00223         }
<a name="l00224"></a>00224 
<a name="l00228"></a><a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#a1125939f0844bb820b4e9ca9abd744ef">00228</a>         <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#a1125939f0844bb820b4e9ca9abd744ef">dotProductWith</a>(<span class="keyword">const</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a> &amp;v)<span class="keyword"> const</span>{
<a name="l00229"></a>00229                 <span class="keywordflow">return</span> (this-&gt;x * v.x + this-&gt;y*v.y + this-&gt;z * v.z);
<a name="l00230"></a>00230         }
<a name="l00234"></a><a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#a00283de03507da30bf2a9e8ce84b22bd">00234</a>         <span class="keyword">inline</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#a00283de03507da30bf2a9e8ce84b22bd">crossProductWith</a>(<span class="keyword">const</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a> &amp;v)<span class="keyword"> const</span>{
<a name="l00235"></a>00235                 <span class="comment">/*</span>
<a name="l00236"></a>00236 <span class="comment">                        Easiest way to figure it out is to set it up like this:</span>
<a name="l00237"></a>00237 <span class="comment">                                                                ___________________</span>
<a name="l00238"></a>00238 <span class="comment">                                                        Ux | Uy   Uz   Ux   Uy | Uz</span>
<a name="l00239"></a>00239 <span class="comment">                                                        Vx | Vy   Vz   Vx   Vy | Vz</span>
<a name="l00240"></a>00240 <span class="comment">                                                                -------------------</span>
<a name="l00241"></a>00241 <span class="comment">                        Cross product is given by cross multiplying the items in the box, and subing the other</span>
<a name="l00242"></a>00242 <span class="comment">                        diagonal</span>
<a name="l00243"></a>00243 <span class="comment">                */</span>      
<a name="l00244"></a>00244                 <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a> result;
<a name="l00245"></a>00245                 <span class="keyword">const</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a>&amp; u = *<span class="keyword">this</span>;
<a name="l00246"></a>00246                 result.x = u.y * v.z - u.z * v.y;
<a name="l00247"></a>00247                 result.y = u.z * v.x - u.x * v.z;
<a name="l00248"></a>00248                 result.z = u.x * v.y - u.y * v.x;
<a name="l00249"></a>00249 
<a name="l00250"></a>00250                 <span class="keywordflow">return</span> result;
<a name="l00251"></a>00251         }
<a name="l00255"></a><a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#a2e5dcd4167c46a70c0a9eedd0e1abcd1">00255</a>         <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#a2e5dcd4167c46a70c0a9eedd0e1abcd1">length</a>()<span class="keyword"> const</span>{
<a name="l00256"></a>00256                 <span class="keywordflow">return</span> sqrt(x*x+y*y+z*z);
<a name="l00257"></a>00257         }
<a name="l00258"></a>00258 
<a name="l00262"></a><a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#ae192e902fc815e3b9fe71cfb169c3876">00262</a>         <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#ae192e902fc815e3b9fe71cfb169c3876">projectionOn</a>(<span class="keyword">const</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a> &amp;v)<span class="keyword"> const </span>{
<a name="l00263"></a>00263         <span class="comment">/*  Here&#39;s how it goes...</span>
<a name="l00264"></a>00264 <span class="comment">                proj = V/|V| * |U| * cos(angle) = V/|V| * |U| * U.V / |U| / |V|</span>
<a name="l00265"></a>00265 <span class="comment">                after simplifying we get:</span>
<a name="l00266"></a>00266 <span class="comment">                                U.V </span>
<a name="l00267"></a>00267 <span class="comment">                proj = ------- * V</span>
<a name="l00268"></a>00268 <span class="comment">                           |V|*|V|</span>
<a name="l00269"></a>00269 <span class="comment">        */</span>
<a name="l00270"></a>00270                 <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a> u = *<span class="keyword">this</span>;
<a name="l00271"></a>00271                 <span class="keywordflow">return</span> v*(u.<a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#a1125939f0844bb820b4e9ca9abd744ef">dotProductWith</a>(v)/(v.<a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#a2e5dcd4167c46a70c0a9eedd0e1abcd1">length</a>()*v.<a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#a2e5dcd4167c46a70c0a9eedd0e1abcd1">length</a>()));
<a name="l00272"></a>00272         }
<a name="l00273"></a>00273 
<a name="l00274"></a>00274 
<a name="l00279"></a><a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#a5a81a069ee08897a24a6dc60c12d463d">00279</a>         <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#a5a81a069ee08897a24a6dc60c12d463d">angleWith</a>(<span class="keyword">const</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a> &amp;v)<span class="keyword"> const </span>{
<a name="l00280"></a>00280                 <span class="comment">// U.V = |U|*|V|*cos(angle)</span>
<a name="l00281"></a>00281                 <span class="comment">// therefore angle = inverse cos (U.V/(|U|*|V|))</span>
<a name="l00282"></a>00282                 <span class="keywordtype">double</span> result = this-&gt;dotProductWith(v) / (this-&gt;length() * v.<a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#a2e5dcd4167c46a70c0a9eedd0e1abcd1">length</a>());
<a name="l00283"></a>00283                 <span class="keywordflow">return</span> safeACOS(result);
<a name="l00284"></a>00284         }
<a name="l00285"></a>00285 
<a name="l00289"></a><a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#af4cfde7678c0584227451f761effdab5">00289</a>         <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a>&amp; <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#af4cfde7678c0584227451f761effdab5">toUnit</a>(){
<a name="l00290"></a>00290                 <span class="keywordtype">double</span> d = this-&gt;length();
<a name="l00291"></a>00291                 <span class="keywordflow">if</span> (IS_ZERO(d))
<a name="l00292"></a>00292                         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00293"></a>00293                 *<span class="keyword">this</span> /= d;
<a name="l00294"></a>00294                 <span class="keywordflow">return</span> (*<span class="keyword">this</span>);
<a name="l00295"></a>00295         }
<a name="l00296"></a>00296 
<a name="l00300"></a><a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#a786026642333f9bcbdfdb69ec40c27a7">00300</a>         <span class="keyword">inline</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#a786026642333f9bcbdfdb69ec40c27a7">unit</a>()<span class="keyword"> const</span>{
<a name="l00301"></a>00301                 <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a> v(this-&gt;x, this-&gt;y, this-&gt;z);
<a name="l00302"></a>00302                 v.<a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#af4cfde7678c0584227451f761effdab5">toUnit</a>();
<a name="l00303"></a>00303                 <span class="keywordflow">return</span> v;
<a name="l00304"></a>00304         }
<a name="l00305"></a>00305 
<a name="l00309"></a><a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#aeba6f76ad4966a70d49ec9d56bd01f09">00309</a>         <span class="keywordtype">bool</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html#aeba6f76ad4966a70d49ec9d56bd01f09">isZeroVector</a>()<span class="keyword"> const</span>{
<a name="l00310"></a>00310                 <span class="keywordflow">return</span> (*<span class="keyword">this</span> == <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a>(0,0,0));
<a name="l00311"></a>00311         }
<a name="l00312"></a>00312 
<a name="l00316"></a>00316         <span class="keywordtype">void</span> setCrossProductMatrix(<a class="code" href="classCartWheel_1_1Math_1_1Matrix.html">Matrix</a> *m) <span class="keyword">const</span>;
<a name="l00317"></a>00317 
<a name="l00322"></a>00322         <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a> rotate(<span class="keywordtype">double</span> alpha, <span class="keyword">const</span> <a class="code" href="classCartWheel_1_1Math_1_1Vector3d.html">Vector3d</a> &amp;axis);
<a name="l00323"></a>00323 
<a name="l00324"></a>00324 
<a name="l00325"></a>00325 };
<a name="l00326"></a>00326 
<a name="l00327"></a>00327 
<a name="l00328"></a>00328 <span class="comment">//MATHLIB_TEMPLATE( DynamicArray&lt;Vector3d&gt; )</span>
<a name="l00329"></a>00329 
<a name="l00330"></a>00330 }
<a name="l00331"></a>00331 }
</pre></div></div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address style="text-align: right;"><small>Generated on Mon Apr 18 13:48:49 2011 for UA-Cartwheel by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
