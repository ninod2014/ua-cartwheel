\hypertarget{classCartWheel_1_1Core_1_1IKVMCController}{
\section{CartWheel::Core::IKVMCController Class Reference}
\label{classCartWheel_1_1Core_1_1IKVMCController}\index{CartWheel::Core::IKVMCController@{CartWheel::Core::IKVMCController}}
}


Inheritance diagram for CartWheel::Core::IKVMCController:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=208pt]{classCartWheel_1_1Core_1_1IKVMCController__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for CartWheel::Core::IKVMCController:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{classCartWheel_1_1Core_1_1IKVMCController__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classCartWheel_1_1Core_1_1IKVMCController_a1eb43256c937b02a1f903fc4a268206f}{IKVMCController} (\hyperlink{classCartWheel_1_1Core_1_1Character}{Character} $\ast$b)
\item 
\hyperlink{classCartWheel_1_1Core_1_1IKVMCController_a11bca200b630959187dd7182c9acbff9}{$\sim$IKVMCController} (void)
\item 
\hypertarget{classCartWheel_1_1Core_1_1IKVMCController_a7b627049429a271fde384a964ebbaf5c}{
void {\bfseries setSwingFootTrajectoryDeltaSagittal} (const \hyperlink{classCartWheel_1_1Math_1_1GenericTrajectory}{CartWheel::Math::Trajectory1d} \&traj)}
\label{classCartWheel_1_1Core_1_1IKVMCController_a7b627049429a271fde384a964ebbaf5c}

\item 
\hypertarget{classCartWheel_1_1Core_1_1IKVMCController_a7dd9a834fa7cf0ee0580ca32829d6b82}{
const \hyperlink{classCartWheel_1_1Math_1_1GenericTrajectory}{CartWheel::Math::Trajectory1d} \& {\bfseries getSwingFootTrajectoryDeltaSagittal} () const }
\label{classCartWheel_1_1Core_1_1IKVMCController_a7dd9a834fa7cf0ee0580ca32829d6b82}

\item 
\hypertarget{classCartWheel_1_1Core_1_1IKVMCController_ac529703572c7dae89535eb930ea780f1}{
void {\bfseries setSwingFootTrajectoryDeltaCoronal} (const \hyperlink{classCartWheel_1_1Math_1_1GenericTrajectory}{CartWheel::Math::Trajectory1d} \&traj)}
\label{classCartWheel_1_1Core_1_1IKVMCController_ac529703572c7dae89535eb930ea780f1}

\item 
\hypertarget{classCartWheel_1_1Core_1_1IKVMCController_a810a6fb0dafd9c5a12aa44645288de1a}{
const \hyperlink{classCartWheel_1_1Math_1_1GenericTrajectory}{CartWheel::Math::Trajectory1d} \& {\bfseries getSwingFootTrajectoryDeltaCoronal} () const }
\label{classCartWheel_1_1Core_1_1IKVMCController_a810a6fb0dafd9c5a12aa44645288de1a}

\item 
\hypertarget{classCartWheel_1_1Core_1_1IKVMCController_a84cd0071112e56eadabfb40901d2b384}{
void {\bfseries setSwingFootTrajectoryDeltaHeight} (const \hyperlink{classCartWheel_1_1Math_1_1GenericTrajectory}{CartWheel::Math::Trajectory1d} \&traj)}
\label{classCartWheel_1_1Core_1_1IKVMCController_a84cd0071112e56eadabfb40901d2b384}

\item 
\hypertarget{classCartWheel_1_1Core_1_1IKVMCController_ac9864ebfbc0ca31a8ef18f753585a73f}{
const \hyperlink{classCartWheel_1_1Math_1_1GenericTrajectory}{CartWheel::Math::Trajectory1d} \& {\bfseries getSwingFootTrajectoryDeltaHeight} () const }
\label{classCartWheel_1_1Core_1_1IKVMCController_ac9864ebfbc0ca31a8ef18f753585a73f}

\item 
\hypertarget{classCartWheel_1_1Core_1_1IKVMCController_a74e16de1da5ee0d52d95f5fc6f3f4fb8}{
\hyperlink{classCartWheel_1_1Math_1_1Vector3d}{CartWheel::Math::Vector3d} {\bfseries computeSwingFootDelta} (double phiToUse=-\/1, int stanceToUse=-\/1)}
\label{classCartWheel_1_1Core_1_1IKVMCController_a74e16de1da5ee0d52d95f5fc6f3f4fb8}

\item 
\hypertarget{classCartWheel_1_1Core_1_1IKVMCController_a2b1aed3a29b4d45288df94296964b3ad}{
void {\bfseries setBehaviour} (\hyperlink{classCartWheel_1_1Core_1_1BehaviourController}{BehaviourController} $\ast$behaviour\_\-disown)}
\label{classCartWheel_1_1Core_1_1IKVMCController_a2b1aed3a29b4d45288df94296964b3ad}

\item 
\hypertarget{classCartWheel_1_1Core_1_1IKVMCController_a1a76745bb0f74ca498b815f4bd51ee8e}{
\hyperlink{classCartWheel_1_1Core_1_1BehaviourController}{BehaviourController} $\ast$ {\bfseries getBehaviour} ()}
\label{classCartWheel_1_1Core_1_1IKVMCController_a1a76745bb0f74ca498b815f4bd51ee8e}

\item 
\hyperlink{classCartWheel_1_1Math_1_1Vector3d}{CartWheel::Math::Vector3d} \hyperlink{classCartWheel_1_1Core_1_1IKVMCController_a0fe1ad56b05f7b16ed0f3b7421056b4b}{computeIPStepLocation} ()
\item 
void \hyperlink{classCartWheel_1_1Core_1_1IKVMCController_a02acf83feb698c0e35a81db2c5b8b788}{computeIKSwingLegTargets} (double dt)
\item 
virtual void \hyperlink{classCartWheel_1_1Core_1_1IKVMCController_a0a944ad3c3178ecc74488c1697460883}{computeTorques} (DynamicArray$<$ \hyperlink{classCartWheel_1_1Physics_1_1ContactPoint}{CartWheel::Physics::ContactPoint} $>$ $\ast$cfs)
\item 
\hyperlink{classCartWheel_1_1Math_1_1Point3d}{CartWheel::Math::Point3d} \hyperlink{classCartWheel_1_1Core_1_1IKVMCController_aa9be3a191f084f2bfbf1c766be3386f0}{getSwingFootTargetLocation} (double t, const \hyperlink{classCartWheel_1_1Math_1_1Point3d}{CartWheel::Math::Point3d} \&com, const \hyperlink{classCartWheel_1_1Math_1_1Quaternion}{CartWheel::Math::Quaternion} \&charFrameToWorld)
\item 
void \hyperlink{classCartWheel_1_1Core_1_1IKVMCController_a8364bad704f18fcb36eef6d0d4fd9e16}{computeGravityCompensationTorques} ()
\item 
void \hyperlink{classCartWheel_1_1Core_1_1IKVMCController_a2013dc539ffd677c3e3e7f890290eed0}{updateSwingAndStanceReferences} ()
\item 
void \hyperlink{classCartWheel_1_1Core_1_1IKVMCController_a6e379111a67bc1fae067aa643dc2b5a8}{computeIKQandW} (int parentJIndex, int childJIndex, const \hyperlink{classCartWheel_1_1Math_1_1Vector3d}{CartWheel::Math::Vector3d} \&parentAxis, const \hyperlink{classCartWheel_1_1Math_1_1Vector3d}{CartWheel::Math::Vector3d} \&parentNormal, const \hyperlink{classCartWheel_1_1Math_1_1Vector3d}{CartWheel::Math::Vector3d} \&childNormal, const \hyperlink{classCartWheel_1_1Math_1_1Vector3d}{CartWheel::Math::Vector3d} \&childEndEffector, const \hyperlink{classCartWheel_1_1Math_1_1Point3d}{CartWheel::Math::Point3d} \&wP, bool computeAngVelocities, const \hyperlink{classCartWheel_1_1Math_1_1Point3d}{CartWheel::Math::Point3d} \&futureWP, double dt)
\item 
void \hyperlink{classCartWheel_1_1Core_1_1IKVMCController_af799a5e27207189e5b946cf063b4667d}{bubbleUpTorques} ()
\item 
void \hyperlink{classCartWheel_1_1Core_1_1IKVMCController_af111c60309fbcb6bd5da03ac95b984f4}{computeLegTorques} (int ankleIndex, int kneeIndex, int hipIndex, DynamicArray$<$ \hyperlink{classCartWheel_1_1Physics_1_1ContactPoint}{CartWheel::Physics::ContactPoint} $>$ $\ast$cfs)
\item 
\hypertarget{classCartWheel_1_1Core_1_1IKVMCController_a7f89f86f5220c61e898c4ca19154068e}{
void {\bfseries COMJT} (DynamicArray$<$ \hyperlink{classCartWheel_1_1Physics_1_1ContactPoint}{CartWheel::Physics::ContactPoint} $>$ $\ast$cfs)}
\label{classCartWheel_1_1Core_1_1IKVMCController_a7f89f86f5220c61e898c4ca19154068e}

\item 
\hyperlink{classCartWheel_1_1Math_1_1Vector3d}{CartWheel::Math::Vector3d} \hyperlink{classCartWheel_1_1Core_1_1IKVMCController_a8f7b679c31e3caf15c6499d50179f023}{computeVirtualForce} ()
\item 
void \hyperlink{classCartWheel_1_1Core_1_1IKVMCController_a9fed3d9a11852843f5847d0627447577}{preprocessAnkleVTorque} (int ankleJointIndex, DynamicArray$<$ \hyperlink{classCartWheel_1_1Physics_1_1ContactPoint}{CartWheel::Physics::ContactPoint} $>$ $\ast$cfs, \hyperlink{classCartWheel_1_1Math_1_1Vector3d}{CartWheel::Math::Vector3d} $\ast$ankleVTorque)
\item 
\hypertarget{classCartWheel_1_1Core_1_1IKVMCController_a01654bab74d1ac16e6c7d31192e17fdc}{
virtual void {\bfseries performPreTasks} (double dt, DynamicArray$<$ \hyperlink{classCartWheel_1_1Physics_1_1ContactPoint}{CartWheel::Physics::ContactPoint} $>$ $\ast$cfs)}
\label{classCartWheel_1_1Core_1_1IKVMCController_a01654bab74d1ac16e6c7d31192e17fdc}

\item 
\hypertarget{classCartWheel_1_1Core_1_1IKVMCController_a0276efd1859f7d86cd009cd1c26b70be}{
virtual bool {\bfseries performPostTasks} (double dt, DynamicArray$<$ \hyperlink{classCartWheel_1_1Physics_1_1ContactPoint}{CartWheel::Physics::ContactPoint} $>$ $\ast$cfs)}
\label{classCartWheel_1_1Core_1_1IKVMCController_a0276efd1859f7d86cd009cd1c26b70be}

\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classCartWheel_1_1Core_1_1IKVMCController_a6c3af892d340cb8411da34b19ed5046f}{
double {\bfseries velDSagittal}}
\label{classCartWheel_1_1Core_1_1IKVMCController_a6c3af892d340cb8411da34b19ed5046f}

\item 
\hypertarget{classCartWheel_1_1Core_1_1IKVMCController_ab8b88b743e72154646d30daec5b9d8a7}{
double {\bfseries velDCoronal}}
\label{classCartWheel_1_1Core_1_1IKVMCController_ab8b88b743e72154646d30daec5b9d8a7}

\item 
\hypertarget{classCartWheel_1_1Core_1_1IKVMCController_a2d0ac509045d5a6249596db7f448d5d4}{
\hyperlink{classCartWheel_1_1Math_1_1GenericTrajectory}{CartWheel::Math::Trajectory1d} {\bfseries swingFootTrajectorySagittal}}
\label{classCartWheel_1_1Core_1_1IKVMCController_a2d0ac509045d5a6249596db7f448d5d4}

\item 
\hypertarget{classCartWheel_1_1Core_1_1IKVMCController_a00e781aec7d0de44574590e73ef83e82}{
\hyperlink{classCartWheel_1_1Math_1_1GenericTrajectory}{CartWheel::Math::Trajectory1d} {\bfseries swingFootTrajectoryCoronal}}
\label{classCartWheel_1_1Core_1_1IKVMCController_a00e781aec7d0de44574590e73ef83e82}

\item 
\hypertarget{classCartWheel_1_1Core_1_1IKVMCController_ab4600f782d16f9f9a47fefc662d11d94}{
\hyperlink{classCartWheel_1_1Math_1_1GenericTrajectory}{CartWheel::Math::Trajectory1d} {\bfseries swingFootHeightTrajectory}}
\label{classCartWheel_1_1Core_1_1IKVMCController_ab4600f782d16f9f9a47fefc662d11d94}

\item 
\hypertarget{classCartWheel_1_1Core_1_1IKVMCController_abf2177db029846395d29eb8bb41dad74}{
\hyperlink{classCartWheel_1_1Math_1_1GenericTrajectory}{CartWheel::Math::Trajectory1d} {\bfseries swingFootTrajectoryDeltaSagittal}}
\label{classCartWheel_1_1Core_1_1IKVMCController_abf2177db029846395d29eb8bb41dad74}

\item 
\hypertarget{classCartWheel_1_1Core_1_1IKVMCController_aea10804da9646d63e4b0d27ce077ee62}{
\hyperlink{classCartWheel_1_1Math_1_1GenericTrajectory}{CartWheel::Math::Trajectory1d} {\bfseries swingFootTrajectoryDeltaCoronal}}
\label{classCartWheel_1_1Core_1_1IKVMCController_aea10804da9646d63e4b0d27ce077ee62}

\item 
\hypertarget{classCartWheel_1_1Core_1_1IKVMCController_af708c5c6a0b88120766be427de7fc979}{
\hyperlink{classCartWheel_1_1Math_1_1GenericTrajectory}{CartWheel::Math::Trajectory1d} {\bfseries swingFootTrajectoryDeltaHeight}}
\label{classCartWheel_1_1Core_1_1IKVMCController_af708c5c6a0b88120766be427de7fc979}

\item 
\hypertarget{classCartWheel_1_1Core_1_1IKVMCController_aeaf1ba27c43ed4b04166d9056a002b7e}{
\hyperlink{classCartWheel_1_1Math_1_1Vector3d}{CartWheel::Math::Vector3d} {\bfseries swingLegPlaneOfRotation}}
\label{classCartWheel_1_1Core_1_1IKVMCController_aeaf1ba27c43ed4b04166d9056a002b7e}

\item 
\hypertarget{classCartWheel_1_1Core_1_1IKVMCController_a5d80d92a40d8880b8ec2a7b46e14b8cc}{
bool {\bfseries doubleStanceMode}}
\label{classCartWheel_1_1Core_1_1IKVMCController_a5d80d92a40d8880b8ec2a7b46e14b8cc}

\item 
\hypertarget{classCartWheel_1_1Core_1_1IKVMCController_a0c8da4f9ec1602510364d69c5088b809}{
double {\bfseries comOffsetSagittal}}
\label{classCartWheel_1_1Core_1_1IKVMCController_a0c8da4f9ec1602510364d69c5088b809}

\item 
\hypertarget{classCartWheel_1_1Core_1_1IKVMCController_affd6d2a7b9090f2c32fc708dd006719c}{
double {\bfseries comOffsetCoronal}}
\label{classCartWheel_1_1Core_1_1IKVMCController_affd6d2a7b9090f2c32fc708dd006719c}

\item 
\hypertarget{classCartWheel_1_1Core_1_1IKVMCController_a37b3be467389aed61c11b083d0c1cce1}{
double {\bfseries panicHeight}}
\label{classCartWheel_1_1Core_1_1IKVMCController_a37b3be467389aed61c11b083d0c1cce1}

\item 
\hypertarget{classCartWheel_1_1Core_1_1IKVMCController_abb1fbfa679f1cb3663fa47178f1448b3}{
double {\bfseries unplannedForHeight}}
\label{classCartWheel_1_1Core_1_1IKVMCController_abb1fbfa679f1cb3663fa47178f1448b3}

\end{DoxyCompactItemize}
\subsection*{Friends}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classCartWheel_1_1Core_1_1IKVMCController_a5a2ca3c4b5068c8b03db27b9d6e09675}{
class {\bfseries TestApp3}}
\label{classCartWheel_1_1Core_1_1IKVMCController_a5a2ca3c4b5068c8b03db27b9d6e09675}

\item 
\hypertarget{classCartWheel_1_1Core_1_1IKVMCController_a8feadc6c140ca29db8be998c18390148}{
class {\bfseries TestApp4}}
\label{classCartWheel_1_1Core_1_1IKVMCController_a8feadc6c140ca29db8be998c18390148}

\item 
\hypertarget{classCartWheel_1_1Core_1_1IKVMCController_a780a8b03a34ab6eb2a7c3944c135ac33}{
class {\bfseries BehaviourController}}
\label{classCartWheel_1_1Core_1_1IKVMCController_a780a8b03a34ab6eb2a7c3944c135ac33}

\end{DoxyCompactItemize}


\subsection{Constructor \& Destructor Documentation}
\hypertarget{classCartWheel_1_1Core_1_1IKVMCController_a1eb43256c937b02a1f903fc4a268206f}{
\index{CartWheel::Core::IKVMCController@{CartWheel::Core::IKVMCController}!IKVMCController@{IKVMCController}}
\index{IKVMCController@{IKVMCController}!CartWheel::Core::IKVMCController@{CartWheel::Core::IKVMCController}}
\subsubsection[{IKVMCController}]{\setlength{\rightskip}{0pt plus 5cm}IKVMCController::IKVMCController ({\bf Character} $\ast$ {\em b})}}
\label{classCartWheel_1_1Core_1_1IKVMCController_a1eb43256c937b02a1f903fc4a268206f}
constructor \hypertarget{classCartWheel_1_1Core_1_1IKVMCController_a11bca200b630959187dd7182c9acbff9}{
\index{CartWheel::Core::IKVMCController@{CartWheel::Core::IKVMCController}!$\sim$IKVMCController@{$\sim$IKVMCController}}
\index{$\sim$IKVMCController@{$\sim$IKVMCController}!CartWheel::Core::IKVMCController@{CartWheel::Core::IKVMCController}}
\subsubsection[{$\sim$IKVMCController}]{\setlength{\rightskip}{0pt plus 5cm}IKVMCController::$\sim$IKVMCController (void)}}
\label{classCartWheel_1_1Core_1_1IKVMCController_a11bca200b630959187dd7182c9acbff9}
destructor 

\subsection{Member Function Documentation}
\hypertarget{classCartWheel_1_1Core_1_1IKVMCController_af799a5e27207189e5b946cf063b4667d}{
\index{CartWheel::Core::IKVMCController@{CartWheel::Core::IKVMCController}!bubbleUpTorques@{bubbleUpTorques}}
\index{bubbleUpTorques@{bubbleUpTorques}!CartWheel::Core::IKVMCController@{CartWheel::Core::IKVMCController}}
\subsubsection[{bubbleUpTorques}]{\setlength{\rightskip}{0pt plus 5cm}void IKVMCController::bubbleUpTorques ()}}
\label{classCartWheel_1_1Core_1_1IKVMCController_af799a5e27207189e5b946cf063b4667d}
This method is used to ensure that each RB sees the net torque that the PD controller computed for it. Without it, an RB sees also the sum of -\/t of every child. \hypertarget{classCartWheel_1_1Core_1_1IKVMCController_a8364bad704f18fcb36eef6d0d4fd9e16}{
\index{CartWheel::Core::IKVMCController@{CartWheel::Core::IKVMCController}!computeGravityCompensationTorques@{computeGravityCompensationTorques}}
\index{computeGravityCompensationTorques@{computeGravityCompensationTorques}!CartWheel::Core::IKVMCController@{CartWheel::Core::IKVMCController}}
\subsubsection[{computeGravityCompensationTorques}]{\setlength{\rightskip}{0pt plus 5cm}void IKVMCController::computeGravityCompensationTorques ()}}
\label{classCartWheel_1_1Core_1_1IKVMCController_a8364bad704f18fcb36eef6d0d4fd9e16}
This method computes the torques that cancel out the effects of gravity, for better tracking purposes \hypertarget{classCartWheel_1_1Core_1_1IKVMCController_a6e379111a67bc1fae067aa643dc2b5a8}{
\index{CartWheel::Core::IKVMCController@{CartWheel::Core::IKVMCController}!computeIKQandW@{computeIKQandW}}
\index{computeIKQandW@{computeIKQandW}!CartWheel::Core::IKVMCController@{CartWheel::Core::IKVMCController}}
\subsubsection[{computeIKQandW}]{\setlength{\rightskip}{0pt plus 5cm}void IKVMCController::computeIKQandW (int {\em parentJIndex}, \/  int {\em childJIndex}, \/  const {\bf CartWheel::Math::Vector3d} \& {\em parentAxis}, \/  const {\bf CartWheel::Math::Vector3d} \& {\em parentNormal}, \/  const {\bf CartWheel::Math::Vector3d} \& {\em childNormal}, \/  const {\bf CartWheel::Math::Vector3d} \& {\em childEndEffector}, \/  const {\bf CartWheel::Math::Point3d} \& {\em wP}, \/  bool {\em computeAngVelocities}, \/  const {\bf CartWheel::Math::Point3d} \& {\em futureWP}, \/  double {\em dt})}}
\label{classCartWheel_1_1Core_1_1IKVMCController_a6e379111a67bc1fae067aa643dc2b5a8}
This method is used to compute the desired orientation and angular velocity for a parent RB and a child RB, relative to the grandparent RB and parent RB repsectively. The input is:
\begin{DoxyItemize}
\item the index of the joint that connects the grandparent RB to the parent RB, and the index of the joint between parent and child
\end{DoxyItemize}


\begin{DoxyItemize}
\item the distance from the parent's joint with its parent to the location of the child's joint, expressed in parent coordinates
\end{DoxyItemize}


\begin{DoxyItemize}
\item two rotation normals -\/ one that specifies the plane of rotation for the parent's joint, expressed in grandparent coords, and the other specifies the plane of rotation between the parent and the child, expressed in parent's coordinates.
\end{DoxyItemize}


\begin{DoxyItemize}
\item The position of the end effector, expressed in child's coordinate frame
\end{DoxyItemize}


\begin{DoxyItemize}
\item The desired position of the end effector, expressed in world coordinates
\end{DoxyItemize}


\begin{DoxyItemize}
\item an estimate of the desired position of the end effector, in world coordinates, some dt later -\/ used to compute desired angular velocities 
\end{DoxyItemize}\hypertarget{classCartWheel_1_1Core_1_1IKVMCController_a02acf83feb698c0e35a81db2c5b8b788}{
\index{CartWheel::Core::IKVMCController@{CartWheel::Core::IKVMCController}!computeIKSwingLegTargets@{computeIKSwingLegTargets}}
\index{computeIKSwingLegTargets@{computeIKSwingLegTargets}!CartWheel::Core::IKVMCController@{CartWheel::Core::IKVMCController}}
\subsubsection[{computeIKSwingLegTargets}]{\setlength{\rightskip}{0pt plus 5cm}void IKVMCController::computeIKSwingLegTargets (double {\em dt})}}
\label{classCartWheel_1_1Core_1_1IKVMCController_a02acf83feb698c0e35a81db2c5b8b788}
This method is used to compute the target angles for the swing hip and swing knee that help to ensure (approximately) precise foot-\/placement control. \hypertarget{classCartWheel_1_1Core_1_1IKVMCController_a0fe1ad56b05f7b16ed0f3b7421056b4b}{
\index{CartWheel::Core::IKVMCController@{CartWheel::Core::IKVMCController}!computeIPStepLocation@{computeIPStepLocation}}
\index{computeIPStepLocation@{computeIPStepLocation}!CartWheel::Core::IKVMCController@{CartWheel::Core::IKVMCController}}
\subsubsection[{computeIPStepLocation}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Vector3d} IKVMCController::computeIPStepLocation ()}}
\label{classCartWheel_1_1Core_1_1IKVMCController_a0fe1ad56b05f7b16ed0f3b7421056b4b}
returns the required stepping location, as predicted by the inverted pendulum model. The prediction is made on the assumption that the character will come to a stop by taking a step at that location. The step location is expressed in the character's frame coordinates. \hypertarget{classCartWheel_1_1Core_1_1IKVMCController_af111c60309fbcb6bd5da03ac95b984f4}{
\index{CartWheel::Core::IKVMCController@{CartWheel::Core::IKVMCController}!computeLegTorques@{computeLegTorques}}
\index{computeLegTorques@{computeLegTorques}!CartWheel::Core::IKVMCController@{CartWheel::Core::IKVMCController}}
\subsubsection[{computeLegTorques}]{\setlength{\rightskip}{0pt plus 5cm}void CartWheel::Core::IKVMCController::computeLegTorques (int {\em ankleIndex}, \/  int {\em kneeIndex}, \/  int {\em hipIndex}, \/  DynamicArray$<$ {\bf CartWheel::Physics::ContactPoint} $>$ $\ast$ {\em cfs})}}
\label{classCartWheel_1_1Core_1_1IKVMCController_af111c60309fbcb6bd5da03ac95b984f4}
This method is used to compute torques for the stance leg that help achieve a desired speed in the sagittal and lateral planes \hypertarget{classCartWheel_1_1Core_1_1IKVMCController_a0a944ad3c3178ecc74488c1697460883}{
\index{CartWheel::Core::IKVMCController@{CartWheel::Core::IKVMCController}!computeTorques@{computeTorques}}
\index{computeTorques@{computeTorques}!CartWheel::Core::IKVMCController@{CartWheel::Core::IKVMCController}}
\subsubsection[{computeTorques}]{\setlength{\rightskip}{0pt plus 5cm}virtual void CartWheel::Core::IKVMCController::computeTorques (DynamicArray$<$ {\bf CartWheel::Physics::ContactPoint} $>$ $\ast$ {\em cfs})\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classCartWheel_1_1Core_1_1IKVMCController_a0a944ad3c3178ecc74488c1697460883}
This method computes the desired target location for the swing ankle. It also returns an estimate of the desired foot location some time dt later. This method returns the points expressed in world coordinates. This method is used to compute the torques 

Reimplemented from \hyperlink{classCartWheel_1_1Core_1_1SimBiController_aa6510698f1e27b154ace8e9459080322}{CartWheel::Core::SimBiController}.

\hypertarget{classCartWheel_1_1Core_1_1IKVMCController_a8f7b679c31e3caf15c6499d50179f023}{
\index{CartWheel::Core::IKVMCController@{CartWheel::Core::IKVMCController}!computeVirtualForce@{computeVirtualForce}}
\index{computeVirtualForce@{computeVirtualForce}!CartWheel::Core::IKVMCController@{CartWheel::Core::IKVMCController}}
\subsubsection[{computeVirtualForce}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Vector3d} IKVMCController::computeVirtualForce ()}}
\label{classCartWheel_1_1Core_1_1IKVMCController_a8f7b679c31e3caf15c6499d50179f023}
This method is used to compute the force that the COM of the character should be applying. \hypertarget{classCartWheel_1_1Core_1_1IKVMCController_aa9be3a191f084f2bfbf1c766be3386f0}{
\index{CartWheel::Core::IKVMCController@{CartWheel::Core::IKVMCController}!getSwingFootTargetLocation@{getSwingFootTargetLocation}}
\index{getSwingFootTargetLocation@{getSwingFootTargetLocation}!CartWheel::Core::IKVMCController@{CartWheel::Core::IKVMCController}}
\subsubsection[{getSwingFootTargetLocation}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Point3d} IKVMCController::getSwingFootTargetLocation (double {\em t}, \/  const {\bf CartWheel::Math::Point3d} \& {\em com}, \/  const {\bf CartWheel::Math::Quaternion} \& {\em charFrameToWorld})}}
\label{classCartWheel_1_1Core_1_1IKVMCController_aa9be3a191f084f2bfbf1c766be3386f0}
This method returns a target for the location of the swing foot, based on some state information. It is assumed that the velocity v is expressed in character-\/relative coordinates (i.e. the sagittal component is the z-\/component), while the com position, and the initial swing foot position is expressed in world coordinates. The resulting desired foot position is also expressed in world coordinates.

This method returns a target for the location of the swing foot, based on some state information. It is assumed that the velocity vel is expressed in character-\/relative coordinates (i.e. the sagittal component is the z-\/component), while the com position, and the initial swing foot position is expressed in world coordinates. The resulting desired foot position is also expressed in world coordinates. \hypertarget{classCartWheel_1_1Core_1_1IKVMCController_a9fed3d9a11852843f5847d0627447577}{
\index{CartWheel::Core::IKVMCController@{CartWheel::Core::IKVMCController}!preprocessAnkleVTorque@{preprocessAnkleVTorque}}
\index{preprocessAnkleVTorque@{preprocessAnkleVTorque}!CartWheel::Core::IKVMCController@{CartWheel::Core::IKVMCController}}
\subsubsection[{preprocessAnkleVTorque}]{\setlength{\rightskip}{0pt plus 5cm}void CartWheel::Core::IKVMCController::preprocessAnkleVTorque (int {\em ankleJointIndex}, \/  DynamicArray$<$ {\bf CartWheel::Physics::ContactPoint} $>$ $\ast$ {\em cfs}, \/  {\bf CartWheel::Math::Vector3d} $\ast$ {\em ankleVTorque})}}
\label{classCartWheel_1_1Core_1_1IKVMCController_a9fed3d9a11852843f5847d0627447577}
This method returns performes some pre-\/processing on the virtual torque. The torque is assumed to be in world coordinates, and it will remain in world coordinates. \hypertarget{classCartWheel_1_1Core_1_1IKVMCController_a2013dc539ffd677c3e3e7f890290eed0}{
\index{CartWheel::Core::IKVMCController@{CartWheel::Core::IKVMCController}!updateSwingAndStanceReferences@{updateSwingAndStanceReferences}}
\index{updateSwingAndStanceReferences@{updateSwingAndStanceReferences}!CartWheel::Core::IKVMCController@{CartWheel::Core::IKVMCController}}
\subsubsection[{updateSwingAndStanceReferences}]{\setlength{\rightskip}{0pt plus 5cm}void IKVMCController::updateSwingAndStanceReferences ()}}
\label{classCartWheel_1_1Core_1_1IKVMCController_a2013dc539ffd677c3e3e7f890290eed0}
updates the indexes of the swing and stance hip, knees and ankles 

The documentation for this class was generated from the following files:\begin{DoxyCompactItemize}
\item 
include/Core/IKVMCController.h\item 
src/Core/IKVMCController.cpp\end{DoxyCompactItemize}
